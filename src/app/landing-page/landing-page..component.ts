import { WeatherService } from './../services/weather.service';
import { Component, OnInit } from '@angular/core';
import * as moment from 'moment';

@Component({
  selector: 'app-landing-page',
  templateUrl: './landing-page..component.html',
  styleUrls: ['./landing-page..component.scss']
})
export class LandingPageComponent implements OnInit {
  weatherObject: any;
  city: string = '';
  isCelsius: boolean = false;
  isHourly: boolean = true;
  today: string = moment(new Date()).format('dddd DD, YYYY');
  constructor(private weatherApi: WeatherService) { }

  ngOnInit(): void {
    // this.weatherApi.updateWeather();
    // this.weatherApi.weatherObject.subscribe((res) => {
    //   if (res) {
    //     this.weatherObject = res;
    //     console.log(this.weatherObject);
    //     if (this.weatherObject.timezone) {
    //       this.city = this.weatherObject.timezone.split('/')[1];
    //       this.today = moment(this.weatherObject.currently.time, 'X').format('dddd DD, YYYY');
    //     }
    //   }
    // })

    this.weatherObject = JSON.parse(`{"latitude":30.146267899999998,"longitude":31.319837900000003,"timezone":"Africa/Cairo","currently":{"time":1628876661,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":91.14,"apparentTemperature":91.96,"dewPoint":62.6,"humidity":0.39,"pressure":1009.5,"windSpeed":12.98,"windGust":19.72,"windBearing":0,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":288.3},"hourly":{"summary":"Clear throughout the day.","icon":"clear-day","data":[{"time":1628874000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":93.84,"apparentTemperature":94.18,"dewPoint":61.1,"humidity":0.34,"pressure":1009,"windSpeed":13.81,"windGust":20.79,"windBearing":347,"cloudCover":0.02,"uvIndex":0,"visibility":10,"ozone":288.4},{"time":1628877600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":90.29,"apparentTemperature":91.36,"dewPoint":63.22,"humidity":0.41,"pressure":1009.7,"windSpeed":12.62,"windGust":19.17,"windBearing":4,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":288.3},{"time":1628881200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":87.51,"apparentTemperature":89.85,"dewPoint":65.94,"humidity":0.49,"pressure":1010,"windSpeed":10.83,"windGust":17.21,"windBearing":6,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.8},{"time":1628884800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":84.72,"apparentTemperature":88.04,"dewPoint":68.08,"humidity":0.58,"pressure":1010,"windSpeed":8.85,"windGust":14.12,"windBearing":7,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.5},{"time":1628888400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":82.49,"apparentTemperature":86.29,"dewPoint":69.71,"humidity":0.65,"pressure":1009.9,"windSpeed":7.13,"windGust":11.35,"windBearing":8,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.3},{"time":1628892000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":80.84,"apparentTemperature":84.67,"dewPoint":70.96,"humidity":0.72,"pressure":1009.7,"windSpeed":5.9,"windGust":8.94,"windBearing":5,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":286.1},{"time":1628895600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":79.37,"apparentTemperature":82.66,"dewPoint":71.62,"humidity":0.77,"pressure":1009.5,"windSpeed":5.12,"windGust":7.32,"windBearing":356,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.3},{"time":1628899200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":77.94,"apparentTemperature":79.21,"dewPoint":71.45,"humidity":0.81,"pressure":1009.4,"windSpeed":4.7,"windGust":6.67,"windBearing":357,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":287.5},{"time":1628902800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":76.59,"apparentTemperature":77.86,"dewPoint":71.1,"humidity":0.83,"pressure":1009.4,"windSpeed":4.39,"windGust":6.44,"windBearing":5,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":286.6},{"time":1628906400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":75.29,"apparentTemperature":76.46,"dewPoint":70.06,"humidity":0.84,"pressure":1009.6,"windSpeed":4.29,"windGust":6.57,"windBearing":351,"cloudCover":0.1,"uvIndex":0,"visibility":10,"ozone":286.2},{"time":1628910000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":74.59,"apparentTemperature":75.72,"dewPoint":69.61,"humidity":0.84,"pressure":1009.9,"windSpeed":4.24,"windGust":6.68,"windBearing":336,"cloudCover":0.14,"uvIndex":0,"visibility":10,"ozone":285.9},{"time":1628913600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":75.04,"apparentTemperature":76.21,"dewPoint":69.95,"humidity":0.84,"pressure":1010.2,"windSpeed":4.32,"windGust":7.06,"windBearing":353,"cloudCover":0.14,"uvIndex":0,"visibility":10,"ozone":285.8},{"time":1628917200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":77,"apparentTemperature":78.18,"dewPoint":70.56,"humidity":0.81,"pressure":1010.4,"windSpeed":4.69,"windGust":7.45,"windBearing":1,"cloudCover":0.22,"uvIndex":1,"visibility":10,"ozone":286.5},{"time":1628920800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":80.74,"apparentTemperature":84.73,"dewPoint":71.45,"humidity":0.73,"pressure":1010.7,"windSpeed":4.98,"windGust":7.32,"windBearing":1,"cloudCover":0.22,"uvIndex":3,"visibility":10,"ozone":286.2},{"time":1628924400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":84.38,"apparentTemperature":89.26,"dewPoint":70.73,"humidity":0.64,"pressure":1010.7,"windSpeed":5.01,"windGust":7.06,"windBearing":356,"cloudCover":0.18,"uvIndex":5,"visibility":10,"ozone":285.7},{"time":1628928000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":88.44,"apparentTemperature":93.05,"dewPoint":69.23,"humidity":0.53,"pressure":1010.5,"windSpeed":5.13,"windGust":6.82,"windBearing":355,"cloudCover":0.14,"uvIndex":8,"visibility":10,"ozone":285.6},{"time":1628931600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":91.92,"apparentTemperature":94.68,"dewPoint":65.87,"humidity":0.42,"pressure":1010,"windSpeed":5.47,"windGust":7.07,"windBearing":359,"cloudCover":0.13,"uvIndex":10,"visibility":10,"ozone":285.5},{"time":1628935200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":94.93,"apparentTemperature":95.74,"dewPoint":61.81,"humidity":0.34,"pressure":1009.4,"windSpeed":5.99,"windGust":7.84,"windBearing":4,"cloudCover":0.12,"uvIndex":10,"visibility":10,"ozone":284.5},{"time":1628938800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":97.78,"apparentTemperature":97.78,"dewPoint":57.73,"humidity":0.27,"pressure":1008.8,"windSpeed":6.58,"windGust":8.78,"windBearing":358,"cloudCover":0.12,"uvIndex":10,"visibility":10,"ozone":284.2},{"time":1628942400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":99.81,"apparentTemperature":99.81,"dewPoint":53.95,"humidity":0.22,"pressure":1008,"windSpeed":7.91,"windGust":10.98,"windBearing":351,"cloudCover":0.18,"uvIndex":8,"visibility":10,"ozone":285.2},{"time":1628946000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":100.92,"apparentTemperature":100.92,"dewPoint":52.45,"humidity":0.2,"pressure":1007.4,"windSpeed":8.62,"windGust":11.77,"windBearing":351,"cloudCover":0.22,"uvIndex":5,"visibility":10,"ozone":284.5},{"time":1628949600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":101.12,"apparentTemperature":101.12,"dewPoint":52.99,"humidity":0.2,"pressure":1006.8,"windSpeed":10.45,"windGust":13.05,"windBearing":354,"cloudCover":0.26,"uvIndex":3,"visibility":10,"ozone":284},{"time":1628953200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":100.14,"apparentTemperature":100.14,"dewPoint":54.69,"humidity":0.22,"pressure":1006.6,"windSpeed":13.74,"windGust":16.1,"windBearing":3,"cloudCover":0.25,"uvIndex":1,"visibility":10,"ozone":283.3},{"time":1628956800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":97.34,"apparentTemperature":97.34,"dewPoint":56.86,"humidity":0.26,"pressure":1007.1,"windSpeed":14.56,"windGust":19.42,"windBearing":11,"cloudCover":0.24,"uvIndex":0,"visibility":10,"ozone":282.6},{"time":1628960400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":93.22,"apparentTemperature":93.22,"dewPoint":60.02,"humidity":0.33,"pressure":1008.1,"windSpeed":14.25,"windGust":22.06,"windBearing":21,"cloudCover":0.14,"uvIndex":0,"visibility":10,"ozone":281.9},{"time":1628964000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":89.56,"apparentTemperature":90.75,"dewPoint":63.54,"humidity":0.42,"pressure":1008.8,"windSpeed":13.39,"windGust":21.97,"windBearing":25,"cloudCover":0.03,"uvIndex":0,"visibility":10,"ozone":281},{"time":1628967600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":86.75,"apparentTemperature":89.37,"dewPoint":66.52,"humidity":0.51,"pressure":1009.2,"windSpeed":11.53,"windGust":19.75,"windBearing":26,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":280.3},{"time":1628971200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":83.98,"apparentTemperature":87.52,"dewPoint":68.65,"humidity":0.6,"pressure":1009.3,"windSpeed":9.3,"windGust":16.5,"windBearing":28,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":279.7},{"time":1628974800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":82.1,"apparentTemperature":85.89,"dewPoint":69.9,"humidity":0.67,"pressure":1009.3,"windSpeed":7.32,"windGust":13.09,"windBearing":27,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":279.4},{"time":1628978400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":80.52,"apparentTemperature":84.09,"dewPoint":70.64,"humidity":0.72,"pressure":1009.1,"windSpeed":6.2,"windGust":10.79,"windBearing":22,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":279.8},{"time":1628982000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":78.96,"apparentTemperature":81.86,"dewPoint":71.08,"humidity":0.77,"pressure":1008.7,"windSpeed":5.52,
    "windGust":9.25,"windBearing":14,"cloudCover":0,"uvIndex":0,"visibility":10,"ozone":280.2},{"time":1628985600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":77.59,"apparentTemperature":78.86,"dewPoint":71.3,"humidity":0.81,"pressure":1008.5,"windSpeed":5.06,"windGust":8.39,"windBearing":11,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":279.5},{"time":1628989200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":75.82,"apparentTemperature":77.1,"dewPoint":70.96,"humidity":0.85,"pressure":1008.4,"windSpeed":4.6,"windGust":7.49,"windBearing":6,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":279.4},{"time":1628992800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":74.23,"apparentTemperature":75.39,"dewPoint":69.78,"humidity":0.86,"pressure":1008.6,"windSpeed":4.44,"windGust":7.21,"windBearing":356,"cloudCover":0.02,"uvIndex":0,"visibility":10,"ozone":279.9},{"time":1628996400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":73.29,"apparentTemperature":74.43,"dewPoint":69.38,"humidity":0.88,"pressure":1008.8,"windSpeed":4.43,"windGust":7.1,"windBearing":350,"cloudCover":0.02,"uvIndex":0,"visibility":10,"ozone":279.6},{"time":1629000000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":73.66,"apparentTemperature":74.86,"dewPoint":69.86,"humidity":0.88,"pressure":1009.1,"windSpeed":4.41,"windGust":7.04,"windBearing":354,"cloudCover":0.11,"uvIndex":0,"visibility":10,"ozone":280.2},{"time":1629003600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":75.96,"apparentTemperature":77.21,"dewPoint":70.81,"humidity":0.84,"pressure":1009.5,"windSpeed":4.75,"windGust":7.22,"windBearing":352,"cloudCover":0.22,"uvIndex":1,"visibility":10,"ozone":280.6},{"time":1629007200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":80.15,"apparentTemperature":84.01,"dewPoint":71.98,"humidity":0.76,"pressure":1009.9,"windSpeed":5.56,"windGust":8.37,"windBearing":356,"cloudCover":0.18,"uvIndex":3,"visibility":10,"ozone":282.2},{"time":1629010800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":84.15,"apparentTemperature":89.37,"dewPoint":71.34,"humidity":0.66,"pressure":1010,"windSpeed":5.19,"windGust":7.37,"windBearing":356,"cloudCover":0.16,"uvIndex":5,"visibility":10,"ozone":282.8},{"time":1629014400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":88.6,"apparentTemperature":93.49,"dewPoint":69.55,"humidity":0.53,"pressure":1009.9,"windSpeed":5.07,"windGust":6.5,"windBearing":357,"cloudCover":0.04,"uvIndex":8,"visibility":10,"ozone":282.1},{"time":1629018000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":92.55,"apparentTemperature":95.25,"dewPoint":65.65,"humidity":0.41,"pressure":1009.3,"windSpeed":5,"windGust":6.03,"windBearing":357,"cloudCover":0,"uvIndex":11,"visibility":10,"ozone":281.4},{"time":1629021600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":95.76,"apparentTemperature":96.37,"dewPoint":61.2,"humidity":0.32,"pressure":1008.6,"windSpeed":5.16,"windGust":6.65,"windBearing":354,"cloudCover":0,"uvIndex":11,"visibility":10,"ozone":280.9},{"time":1629025200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":98.36,"apparentTemperature":98.36,"dewPoint":56.43,"humidity":0.25,"pressure":1007.9,"windSpeed":5.29,"windGust":7.64,"windBearing":349,"cloudCover":0.04,"uvIndex":10,"visibility":10,"ozone":280.5},{"time":1629028800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":100,"apparentTemperature":100,"dewPoint":52.28,"humidity":0.2,"pressure":1007.2,"windSpeed":6.37,"windGust":9.06,"windBearing":338,"cloudCover":0.11,"uvIndex":8,"visibility":10,"ozone":280.1},{"time":1629032400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":100.86,"apparentTemperature":100.86,"dewPoint":49.57,"humidity":0.18,"pressure":1006.7,"windSpeed":7.03,"windGust":10.16,"windBearing":335,"cloudCover":0.12,"uvIndex":5,"visibility":10,"ozone":279.8},{"time":1629036000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":101.56,"apparentTemperature":101.56,"dewPoint":48.78,"humidity":0.17,"pressure":1006.2,"windSpeed":8.27,"windGust":11.5,"windBearing":337,"cloudCover":0.18,"uvIndex":3,"visibility":10,"ozone":279.8},{"time":1629039600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":100.62,"apparentTemperature":100.62,"dewPoint":51.73,"humidity":0.2,"pressure":1006,"windSpeed":11.59,"windGust":14.61,"windBearing":342,"cloudCover":0.21,"uvIndex":1,"visibility":10,"ozone":280},{"time":1629043200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":97.21,"apparentTemperature":97.21,"dewPoint":57.39,"humidity":0.27,"pressure":1006.6,"windSpeed":14.65,"windGust":19.75,"windBearing":353,"cloudCover":0.21,"uvIndex":0,"visibility":10,"ozone":280.6},{"time":1629046800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":92.16,"apparentTemperature":93.47,"dewPoint":63.38,"humidity":0.39,"pressure":1007.5,"windSpeed":14.89,"windGust":22.07,"windBearing":0,"cloudCover":0.1,"uvIndex":0,"visibility":10,"ozone":281.5}]},"daily":{"summary":"No precipitation throughout the week.","icon":"clear-day","data":[{"time":1628805600,"summary":"Humid throughout the day.","icon":"clear-day","sunriseTime":1628824920,"sunsetTime":1628872800,"moonPhase":0.18,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":102.99,"temperatureHighTime":1628861820,"temperatureLow":74.09,"temperatureLowTime":1628910540,"apparentTemperatureHigh":102.48,"apparentTemperatureHighTime":1628861880,"apparentTemperatureLow":75.71,"apparentTemperatureLowTime":1628910480,"dewPoint":66.01,"humidity":0.52,"pressure":1009.4,"windSpeed":7.52,"windGust":20.79,"windGustTime":1628874180,"windBearing":327,"cloudCover":0.01,"uvIndex":11,"uvIndexTime":1628848500,"visibility":10,"ozone":289.4,"temperatureMin":76.75,"temperatureMinTime":1628820660,"temperatureMax":102.99,"temperatureMaxTime":1628861820,"apparentTemperatureMin":78.41,"apparentTemperatureMinTime":1628820600,"apparentTemperatureMax":102.48,"apparentTemperatureMaxTime":1628861880},{"time":1628892000,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1628911380,"sunsetTime":1628959140,"moonPhase":0.22,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":101.68,"temperatureHighTime":1628948520,"temperatureLow":72.75,"temperatureLowTime":1628997420,"apparentTemperatureHigh":101.18,"apparentTemperatureHighTime":1628948520,"apparentTemperatureLow":74.4,"apparentTemperatureLowTime":1628997300,"dewPoint":65.07,"humidity":0.54,"pressure":1009.1,"windSpeed":7.58,"windGust":22.32,"windGustTime":1628961960,"windBearing":7,"cloudCover":0.12,"uvIndex":10,"uvIndexTime":1628935200,"visibility":10,"ozone":284.3,"temperatureMin":74.09,"temperatureMinTime":1628910540,"temperatureMax":101.68,"temperatureMaxTime":1628948520,"apparentTemperatureMin":75.71,"apparentTemperatureMinTime":1628910480,"apparentTemperatureMax":101.18,"apparentTemperatureMaxTime":1628948520},{"time":1628978400,"summary":"Humid throughout the day.","icon":"clear-day","sunriseTime":1628997840,"sunsetTime":1629045480,"moonPhase":0.26,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":102.06,"temperatureHighTime":1629035880,"temperatureLow":73,"temperatureLowTime":1629084060,"apparentTemperatureHigh":101.56,"apparentTemperatureHighTime":1629035880,"apparentTemperatureLow":74.82,"apparentTemperatureLowTime":1629084060,"dewPoint":65.39,"humidity":0.57,"pressure":1008.5,"windSpeed":7.48,"windGust":22.09,"windGustTime":1629047100,"windBearing":356,"cloudCover":0.08,"uvIndex":11,"uvIndexTime":1629021360,"visibility":10,"ozone":280.8,"temperatureMin":72.75,"temperatureMinTime":1628997420,"temperatureMax":102.06,"temperatureMaxTime":1629035880,"apparentTemperatureMin":74.4,"apparentTemperatureMinTime":1628997300,"apparentTemperatureMax":101.56,"apparentTemperatureMaxTime":1629035880},{"time":1629064800,"summary":"Humid throughout the day.","icon":"clear-day","sunriseTime":1629084240,"sunsetTime":1629131820,"moonPhase":0.29,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":100.46,"temperatureHighTime":1629123960,"temperatureLow":70.85,"temperatureLowTime":1629169200,"apparentTemperatureHigh":99.96,"apparentTemperatureHighTime":1629123960,"apparentTemperatureLow":72.47,"apparentTemperatureLowTime":1629169200,"dewPoint":64.58,"humidity":0.58,"pressure":1009.3,"windSpeed":7.93,"windGust":22.19,"windGustTime":1629133320,"windBearing":354,"cloudCover":0.13,"uvIndex":11,"uvIndexTime":1629107880,"visibility":10,"ozone":282.4,"temperatureMin":73,"temperatureMinTime":1629084060,"temperatureMax":100.46,"temperatureMaxTime":1629123960,"apparentTemperatureMin":74.82,"apparentTemperatureMinTime":1629084060,"apparentTemperatureMax":99.96,"apparentTemperatureMaxTime":1629123960},{"time":1629151200,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1629170700,"sunsetTime":1629218160,"moonPhase":0.33,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":100.5,"temperatureHighTime":1629210420,"temperatureLow":69.28,"temperatureLowTime":1629255480,"apparentTemperatureHigh":100,"apparentTemperatureHighTime":1629210420,"apparentTemperatureLow":70.7,"apparentTemperatureLowTime":1629255480,"dewPoint":63.86,"humidity":0.57,"pressure":1009.5,"windSpeed":7.43,
    "windGust":21.72,"windGustTime":1629219900,"windBearing":355,"cloudCover":0,"uvIndex":11,"uvIndexTime":1629194340,"visibility":10,"ozone":281.4,"temperatureMin":70.85,"temperatureMinTime":1629169200,"temperatureMax":100.5,"temperatureMaxTime":1629210420,"apparentTemperatureMin":72.47,"apparentTemperatureMinTime":1629169200,"apparentTemperatureMax":100,"apparentTemperatureMaxTime":1629210420},{"time":1629237600,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1629257100,"sunsetTime":1629304500,"moonPhase":0.37,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":98.22,"temperatureHighTime":1629295860,"temperatureLow":68.58,"temperatureLowTime":1629341580,"apparentTemperatureHigh":97.72,"apparentTemperatureHighTime":1629295860,"apparentTemperatureLow":69.9,"apparentTemperatureLowTime":1629341640,"dewPoint":63.99,"humidity":0.57,"pressure":1007.9,"windSpeed":6.46,"windGust":21.93,"windGustTime":1629309600,"windBearing":351,"cloudCover":0,"uvIndex":11,"uvIndexTime":1629280740,"visibility":10,"ozone":278.7,"temperatureMin":69.28,"temperatureMinTime":1629255480,"temperatureMax":98.22,"temperatureMaxTime":1629295860,"apparentTemperatureMin":70.7,"apparentTemperatureMinTime":1629255480,"apparentTemperatureMax":97.72,"apparentTemperatureMaxTime":1629295860},{"time":1629324000,"summary":"Humid throughout the day.","icon":"clear-day","sunriseTime":1629343560,"sunsetTime":1629390840,"moonPhase":0.4,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureHigh":99.7,"temperatureHighTime":1629382560,"temperatureLow":70.19,"temperatureLowTime":1629428340,"apparentTemperatureHigh":99.2,"apparentTemperatureHighTime":1629382560,"apparentTemperatureLow":71.76,"apparentTemperatureLowTime":1629428340,"dewPoint":63.11,"humidity":0.57,"pressure":1006.1,"windSpeed":6.04,"windGust":21.01,"windGustTime":1629396120,"windBearing":349,"cloudCover":0,"uvIndex":11,"uvIndexTime":1629367140,"visibility":10,"ozone":277.3,"temperatureMin":68.58,"temperatureMinTime":1629341580,"temperatureMax":99.7,"temperatureMaxTime":1629382560,"apparentTemperatureMin":69.9,"apparentTemperatureMinTime":1629341640,"apparentTemperatureMax":99.2,"apparentTemperatureMaxTime":1629382560},{"time":1629410400,"summary":"Humid throughout the day.","icon":"clear-day","sunriseTime":1629429960,"sunsetTime":1629477180,"moonPhase":0.44,"precipIntensity":0,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1629439200,"precipProbability":0.01,"temperatureHigh":100.98,"temperatureHighTime":1629468480,"temperatureLow":70.46,"temperatureLowTime":1629514380,"apparentTemperatureHigh":101.96,"apparentTemperatureHighTime":1629468300,"apparentTemperatureLow":72.31,"apparentTemperatureLowTime":1629514440,"dewPoint":68.32,"humidity":0.62,"pressure":1006.4,"windSpeed":6.16,"windGust":20,"windGustTime":1629482280,"windBearing":335,"cloudCover":0,"uvIndex":11,"uvIndexTime":1629453480,"visibility":10,"ozone":278.1,"temperatureMin":70.19,"temperatureMinTime":1629428340,"temperatureMax":100.98,"temperatureMaxTime":1629468480,"apparentTemperatureMin":71.76,"apparentTemperatureMinTime":1629428340,"apparentTemperatureMax":101.96,"apparentTemperatureMaxTime":1629468300}]},"flags":{"sources":["cmc","gfs","icon","isd","madis"],"nearest-station":5.423,"units":"us"},"offset":2}`)
    this.today = moment(this.weatherObject.currently.time, 'X').format('dddd DD, YYYY');
    this.city = this.weatherObject.timezone.split('/')[1];
    console.log(this.weatherObject);


  }

  convertTemperature(type: string) {
    if (type === 'f') this.isCelsius = false;
    else if (type === 'c') this.isCelsius = true;
  }

  temperatureFormatter(temperature: any) {
    if (this.isCelsius) return `${(Number((temperature) - 32) * 5 / 9).toFixed()}°`;
    return `${Number(temperature).toFixed()}°`;
  }

  hourlyOrDaily(type: string) {
    if (type === 'hour') this.isHourly = true;
    else if (type === 'day') this.isHourly = false;
  }

  getTime(time: any) {
    return moment(time, 'X').format('HH:mm');
  }

  getDate(time: string) {
    return moment(time, 'X').format("DD-MM");

  }
}
